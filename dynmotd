#!/usr/bin/env bash
###########################
#                         #
#  Saint @ Shardbyte.com  #
#                         #
###########################
# Copyright (c) 2023-2025 Shardbyte
# Author: Shardbyte (Saint)
# License: MIT
# https://github.com/Shardbyte/shard-dotfiles/raw/master/LICENSE
######  BEGIN FILE  ###### ######  BEGIN FILE  ###### ######  BEGIN FILE  ######
# ----- Shardbyte Dynamic MOTD -----
#
#
#


# -------------------- Variables -------------------- #

# Color definitions
YW=$(echo "\033[33m")        # Yellow Text
GN=$(echo "\033[1;92m")      # Green Text
RD=$(echo "\033[1;91m")      # Red Text
BL=$(echo "\033[1;94m")      # Blue Text
MG=$(echo "\033[1;95m")      # Magenta Text
CY=$(echo "\033[1;96m")      # Cyan Text
PR=$(echo "\033[38;5;141m")  # Purple Text
CL=$(echo "\033[m")          # Reset Text
BD=$(echo "\033[1m")         # Bold Text

# System variables
USER=$(whoami)
HOSTNAME=$(hostname)

# Config paths
FASTFETCH_USER_CONFIG="/home/$USER/.config/fastfetch/config.jsonc"
FASTFETCH_ROOT_CONFIG="/root/.config/fastfetch/config.jsonc"

# Nerd Font icons
ICON_LIGHTNING="⚡"


# -------------------- Output Functions -------------------- #

check_user() {
    if [ "$EUID" -eq 0 ]; then
        print_root_motd
    else
        print_user_motd
    fi
}

print_root_motd() {
    clear
    echo ""

    ROOT_MESSAGE=$(fastfetch --config "$FASTFETCH_ROOT_CONFIG" 2>/dev/null)
    echo -e " $ROOT_MESSAGE"
}

print_user_motd() {
    clear
    echo ""

    USER_MESSAGE=$(fastfetch --config "$FASTFETCH_USER_CONFIG" 2>/dev/null)
    echo -e " $USER_MESSAGE"
}
# -------------------- Main Execution -------------------- #

main() {
    # Execute the appropriate MOTD based on user
    check_user

    # Print rules and footer
    print_rules
}

print_rules() {
    RULES="${CL}
    ${BD}${CY}╔══════════════════════════════════════════════════════════════════════════════╗${CL}
    ${BD}${CY}║                            ${GN}⚡ ${PR}SECURITY NOTICE  ${GN}⚡                            ${BD}${CY}║${CL}
    ${BD}${CY}╠══════════════════════════════════════════════════════════════════════════════╣${CL}
    ${BD}${CY}║                                                                              ║${CL}
    ${BD}${CY}║  ${PR}▶${CL} ${BD}Private Infrastructure${CL} ${GN}│${CL} Authorized personnel only                        ${BD}${CY}║${CL}
    ${BD}${CY}║  ${PR}▶${CL} ${BD}Monitored Environment${CL}  ${GN}│${CL} All activities are logged                        ${BD}${CY}║${CL}
    ${BD}${CY}║  ${PR}▶${CL} ${BD}Secure Sessions Only${CL}   ${GN}│${CL} Use proper authentication methods                ${BD}${CY}║${CL}
    ${BD}${CY}║  ${PR}▶${CL} ${BD}Clean Exit Required${CL}    ${GN}│${CL} Log out properly when finished                   ${BD}${CY}║${CL}
    ${BD}${CY}║                                                                              ║${CL}
    ${BD}${CY}╠══════════════════════════════════════════════════════════════════════════════╣${CL}
    ${BD}${CY}║${CL}                 ${BD}${GN}${ICON_LIGHTNING}${PR} SHARDBYTE COLLECTIVE SECURE OPERATIONS  ${GN}${ICON_LIGHTNING}                ${BD}${CY}║${CL}
    ${BD}${CY}╚══════════════════════════════════════════════════════════════════════════════╝${CL}"
    echo -e "$RULES${CL}\n"
}

# Execute main function
main
#
#
######  END FILE  ###### ######  END FILE  ###### ######  END FILE  ######
