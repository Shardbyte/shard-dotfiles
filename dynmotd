#!/usr/bin/env bash
###########################
#                         #
#  Saint @ Shardbyte.com  #
#                         #
###########################
# Copyright (c) 2023-2025 Shardbyte
# Author: Shardbyte (Saint)
# License: MIT
# https://github.com/Shardbyte/shard-dotfiles/raw/master/LICENSE
######  BEGIN FILE  ###### ######  BEGIN FILE  ###### ######  BEGIN FILE  ######
# ----- Shardbyte Dynamic MOTD -----
#
#
#


# -------------------- Variables -------------------- #

# Color definitions - Custom Theme
YW=$(echo "\033[38;2;238;212;159m")     # Yellow Text
GN=$(echo "\033[38;2;166;218;149m")     # Green Text
RD=$(echo "\033[38;2;237;135;150m")     # Red Text
BL=$(echo "\033[38;5;117m")             # Blue Text
MG=$(echo "\033[38;2;198;160;246m")     # Magenta Text
CY=$(echo "\033[38;2;139;213;202m")     # Cyan Text
PR=$(echo "\033[38;2;198;160;246m")     # Purple Text
CL=$(echo "\033[0m")                    # Reset Text
BD=$(echo "\033[1m")                    # Bold Text

# System variables
USER=$(whoami)
HOSTNAME=$(hostname)

# Config paths
FASTFETCH_USER_CONFIG="/home/$USER/.config/fastfetch/config.jsonc"
FASTFETCH_ROOT_CONFIG="/root/.config/fastfetch/config.jsonc"

# Nerd Font icons
ICON_LIGHTNING="⚡"


# -------------------- Output Functions -------------------- #

check_user() {
    if [ "$EUID" -eq 0 ]; then
        print_root_motd
    else
        print_user_motd
    fi
}

print_root_motd() {
    clear
    echo ""
    fastfetch --color-output --config "$FASTFETCH_ROOT_CONFIG" 2>/dev/null || echo "Fastfetch not available"
}

print_user_motd() {
    clear
    echo ""
    fastfetch --color-output --config "$FASTFETCH_USER_CONFIG" 2>/dev/null || echo "Fastfetch not available"
}
# -------------------- Main Execution -------------------- #

main() {
    # Execute the appropriate MOTD based on user
    check_user

    # Print rules and footer
    print_rules
}

print_rules() {
    RULES="${CL}
            ${BD}${CY}╔══════════════════════════════════════════════════════════════════════════════╗${CL}
            ${BD}${CY}║                            ${BL}⚡ ${PR}SECURITY NOTICE  ${BL}⚡                            ${BD}${CY}║${CL}
            ${BD}${CY}╠══════════════════════════════════════════════════════════════════════════════╣${CL}
            ${BD}${CY}║                                                                              ║${CL}
            ${BD}${CY}║  ${BL}▶${CL} ${BD}Private Infrastructure${CL} ${BL}│${CL} Authorized personnel only                        ${BD}${CY}║${CL}
            ${BD}${CY}║  ${BL}▶${CL} ${BD}Monitored Environment${CL}  ${BL}│${CL} All activities are logged                        ${BD}${CY}║${CL}
            ${BD}${CY}║  ${BL}▶${CL} ${BD}Secure Sessions Only${CL}   ${BL}│${CL} Use proper authentication methods                ${BD}${CY}║${CL}
            ${BD}${CY}║  ${BL}▶${CL} ${BD}Clean Exit Required${CL}    ${BL}│${CL} Log out properly when finished                   ${BD}${CY}║${CL}
            ${BD}${CY}║                                                                              ║${CL}
            ${BD}${CY}╠══════════════════════════════════════════════════════════════════════════════╣${CL}
            ${BD}${CY}║${CL}                 ${BD}${BL}${ICON_LIGHTNING}${PR} SHARDBYTE COLLECTIVE SECURE OPERATIONS  ${BL}${ICON_LIGHTNING}                ${BD}${CY}║${CL}
            ${BD}${CY}╚══════════════════════════════════════════════════════════════════════════════╝${CL}"
    echo -e "$RULES${CL}\n"
}

# Execute main function
main
#
#
######  END FILE  ###### ######  END FILE  ###### ######  END FILE  ######